	moroccan_spanish_war = {
		SPR_independence_achieved = {
			icon = generic_nationalism

			available = {
				OR = {
					MOR = { has_capitulated = yes }
					NOT = {
						country_exists = MOR
					}
				}
			}
			activation = {
				has_war_with = MOR	
				has_country_flag = SPA_MOROCCO_WAR_BEGUN
			}
			allowed = {
				original_tag = SPA			
			}
			days_mission_timeout = 200
			is_good = no

			timeout_effect = {
				SPA = { country_event = { id = twrspain.12 days = 1 } }
			}

			complete_effect = {
				SPA = { country_event = { id = twrspain.13 days = 1 } }
			}
			ai_will_do = {
				factor = 100
			}
		}
	}

	gibraltar_integration = {
	SPA_introduce_the_peseta = {

	icon = ger_mefo_bills

	available = {
	original_tag = SPA
	118 = { is_controlled_by = SPA }

	}

	visible = {
	original_tag = SPA
	}

	fire_only_once = no

	cost = 50

	complete_effect = {
	set_country_flag = SPA_CURENCY_INTRODUCED
	}
	ai_will_do = {
	factor = 100
	}
	}

	SPA_surpress_yanito = {

	icon = oppression

	available = {
	original_tag = SPA
	118 = { is_controlled_by = SPA }

	}

	visible = {
	original_tag = SPA
	}

	fire_only_once = no

	cost = 50

	complete_effect = {
	set_country_flag = SPA_YANITO_GONE
	}
	ai_will_do = {
	factor = 100
	}
	}

	SPA_deport_religious_minorities = {

	icon = generic_scorched_earth

	available = {
	original_tag = SPA
	118 = { is_controlled_by = SPA }

	}

	visible = {
	original_tag = SPA
	}

	fire_only_once = no

	cost = 50

	complete_effect = {
	set_country_flag = SPA_RELIGION_UNITED
	}
	ai_will_do = {
	factor = 100
	}
	}

	SPA_expand_maritime_economic_opportunity = {

	icon = generic_naval

	available = {
	original_tag = SPA
	118 = { is_controlled_by = SPA }

	}

	visible = {
	original_tag = SPA
	}

	fire_only_once = no

	cost = 50

	complete_effect = {
	set_country_flag = SPA_NAVAL_EXPANSION
	}
	ai_will_do = {
	factor = 100
	}
	}
	}

	atlantik_wall_SPA = {
	SPA_Bilbao_Part = {

	icon = generic_construction

	available = {
	original_tag = SPA
	172 = { is_controlled_by = SPA }
	776 = { is_controlled_by = SPA }          	
	}

	visible = {

	}

	fire_only_once = yes

	cost = 50

	days_remove = 40

	remove_effect = {
	set_country_flag = SPA_BILBAO_A
	776 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 6756
	level = 2
	instant_build = yes
	}
	add_building_construction = {
	type = coastal_bunker
	province = 740
	level = 2
	instant_build = yes
	}
	add_building_construction = {
	type = coastal_bunker
	province = 11688
	level = 2
	instant_build = yes
	}
	add_building_construction = {
	type = coastal_bunker
	province = 9703
	level = 2
	instant_build = yes
	}
	}

	172 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 3737
	level = 2
	instant_build = yes

	}
	}

	}
	}

	SPA_Asturias_Part = {

	icon = generic_construction

	available = {
	original_tag = SPA
	775 = { is_controlled_by = SPA }          	
	}

	visible = {

	}

	fire_only_once = yes

	cost = 50
	days_remove = 40
	remove_effect = {
	set_country_flag = SPA_ASTURIAS_A
	775 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 11707 
	level = 2
	instant_build = yes
	}           


	add_building_construction = {
	type = coastal_bunker
	province = 9719
	level = 2
	instant_build = yes
	}             

	add_building_construction = {
	type = coastal_bunker
	province = 6749
	level = 2
	instant_build = yes
	}             
	}


	}
	}

	SPA_Galician_Part = {

	icon = generic_construction

	available = {
	original_tag = SPA
	171 = { is_controlled_by = SPA }          	
	}

	visible = {

	}

	fire_only_once = yes

	cost = 50

	days_remove = 50

	remove_effect = {
	set_country_flag = SPA_GALICIA_A
	171 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 6764
	level = 2
	instant_build = yes
	}        
	add_building_construction = {
	type = coastal_bunker
	province = 3761
	level = 2
	instant_build = yes
	}            
	add_building_construction = {
	type = coastal_bunker
	province = 758
	level = 2
	instant_build = yes
	}       
	add_building_construction = {
	type = coastal_bunker
	province = 11710
	level = 2
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 9689
	level = 2
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 6734
	level = 2
	instant_build = yes
	}  



	}

	}
	}

	SPA_Cadiz_Part = {

	icon = generic_construction

	available = {
	original_tag = SPA
	169 = { is_controlled_by = SPA }          	
	}

	visible = {

	}

	fire_only_once = yes

	cost = 50

	days_remove = 40

	remove_effect = {
	set_country_flag = SPA_CADIZ_A
	169 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 12070
	level = 2
	instant_build = yes
	}        
	add_building_construction = {
	type = coastal_bunker
	province = 9815
	level = 2
	instant_build = yes
	}            
	add_building_construction = {
	type = coastal_bunker
	province = 4080
	level = 2
	instant_build = yes
	}       
	add_building_construction = {
	type = coastal_bunker
	province = 1048
	level = 2
	instant_build = yes
	}  
	}

	}
	}

	SPA_Rif_Part = {

	icon = generic_construction

	available = {
	original_tag = SPA
	290 = { is_controlled_by = SPA }          	
	}

	visible = {

	}

	fire_only_once = yes

	cost = 50

	days_remove = 30

	remove_effect = {
	set_country_flag = SPA_RIF_A
	290 = {
	add_building_construction = {
	type = anti_air_building
	level = 1
	instant_build = yes
	}  
	add_building_construction = {
	type = coastal_bunker
	province = 9945
	level = 2
	instant_build = yes
	}        
	add_building_construction = {
	type = coastal_bunker
	province = 10113
	level = 2
	instant_build = yes
	}            
	}

	}
	}

	SPA_End_of_the_Project = {

	icon = generic_decision

	available = {
	original_tag = SPA
	AND = { 
	has_country_flag = SPA_RIF_A
	has_country_flag = SPA_CADIZ_A
	has_country_flag = SPA_GALICIA_A
	has_country_flag = SPA_ASTURIAS_A
	has_country_flag = SPA_BILBAO_A
	}   	
	}

	visible = {

	}

	fire_only_once = yes

	cost = freedec?0 


	complete_effect = {
	add_stability = 0.05
	add_political_power = 150
	news_event = { id = twrspanews.13 days = 0 }

	}
	}

	}
	POR_Angola_War = {
		POR_war_goes_on_for_too_long = {
			fire_only_once = yes
			allowed = { tag = POR }
			activation = {
				OR = {
					has_war_with = ANG
					has_war_with = BAK
				}
			}
			available = { 
				OR = { 
					AND = { 
						BAK = { exists = no } 
						ANG = { exists = no } 
					}
					AND = { 
						NOT = { 
							has_war_with = ANG 
						}
						NOT = { 
							has_war_with = BAK 
						}
					} 
				} 
			}

			is_good = no
			days_mission_timeout = 365
			timeout_effect = { 
				country_event = twrportugal.11
			}
			complete_effect = {
				add_war_support = 0.1
				add_stability = 0.1
				add_popularity = { ideology = paternal_autocrat popularity = 0.15 }
			}

		}
	}

	Bunker_Game_SPA = {
	SPA_BUNKER_COUP_DEC = {

	allowed = { original_tag = SPA }

	available = { has_completed_focus = SPA_reconstruct_spanish_society  }
	activation = {
	has_country_flag = SPA_STUDENT_DEMOCRACY
	}
	is_good = no
	days_mission_timeout = 150
	timeout_effect = { 
	country_event = { id = twrspain.27 days = 2 }
	clr_country_flag = SPA_STUDENT_DEMOCRACY
	}
	complete_effect = {
	add_stability = 0.05
			}
		}
	}