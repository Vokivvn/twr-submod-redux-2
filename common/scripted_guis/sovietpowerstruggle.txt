scripted_gui = {
    SOV_ps_open_button = {
        context_type = player_context
        parent_window_token = politics_tab
        window_name = "SOV_ps_open_button_window"

        visible = {
            tag = SOV
            NOT = {
            has_country_flag = SOV_FEATURE_DISABLED
            }
        }

        effects = {
            politicsview_SOV_button_click = {
                if = {
                    limit = { has_country_flag = SOV_powerstruggle_open }
					clr_country_flag = SOV_powerstruggle_open
                }
                else = {
                    set_country_flag = SOV_powerstruggle_open
                }
            }
        }
    }

    SOV_ps_screen_main = {
        context_type = player_context
        parent_window_token = politics_tab
        window_name = "SOV_ps_screen_main"

        visible = {
			has_country_flag = SOV_powerstruggle_open
            NOT = {
            has_country_flag = SOV_FIRST_PHASE_OVER
            has_country_flag = SOV_FEATURE_DISABLED
            }
        }

		effects = {
            SOV_close_ps_button_click = {
				clr_country_flag = SOV_powerstruggle_open
            }
        }

		properties = {
            SOV_kalininist_leader = {
                image = "[SOV_get_kalinist_leader]"
            }
            SOV_reformist_leader = {
                image = "[SOV_get_reformist_leader]"
            }
            SOV_nkvd_leader = {
                image = "[SOV_get_nkvd_leader]"
            }
            SOV_orthodoxist_leader = {
                image = "[SOV_get_orthodoxist_leader]"
            }
        }
    }

    SOV_ps_screen_TURKENICH = {
        context_type = player_context
        parent_window_token = politics_tab
        window_name = "SOV_ps_screen_TURKENICH_main"

        visible = {
            has_country_flag = SOV_powerstruggle_open
            has_country_flag = TURKENICH_INTERFACE
            NOT = {
            has_country_flag = SOV_FEATURE_DISABLED
            }
        }

        effects = {
            SOV_close_TURKENICH_ps_button_click = {
                clr_country_flag = SOV_powerstruggle_open
            }
        }
        properties = {
            SOV_yg_leader = {
                image = "[SOV_get_young_guard_leader]"
            }
            SOV_kosomol_leader = {
                image = "[SOV_get_kosomol_leader]"
            }
        }
    }

    SOV_ps_screen_BULGANIN = {
        context_type = player_context
        parent_window_token = politics_tab
        window_name = "SOV_ps_screen_BULGANIN_main"

        visible = {
            has_country_flag = SOV_powerstruggle_open
            has_country_flag = BULGANIN_INTERFACE
            NOT = {
            has_country_flag = SOV_FEATURE_DISABLED
            }
        }

        effects = {
            SOV_close_BULGANIN_ps_button_click = {
                clr_country_flag = SOV_powerstruggle_open
            }
        }
        properties = {
            SOV_business_council_leader = {
                image = "[SOV_get_business_council_leader]"
            }
            SOV_ruralist_leader = {
                image = "[SOV_get_ruralist_leader]"
            }
            SOV_national_security_leader = {
                image = "[SOV_get_national_security_leader]"
            }
        }
    }

    SOV_ps_screen_SUSLOV = {
        context_type = player_context
        parent_window_token = politics_tab
        window_name = "SOV_ps_screen_SUSLOV_main"

        visible = {
            has_country_flag = SOV_powerstruggle_open
            has_country_flag = SUSLOV_INTERFACE
            NOT = {
            has_country_flag = SOV_FEATURE_DISABLED
            }
        }

        effects = {
            SOV_close_SUSLOV_ps_button_click = {
                clr_country_flag = SOV_powerstruggle_open
            }
        }
        properties = {
            SOV_red_army_suslov_leader = {
                image = "[SOV_get_red_army_suslov_leader]"
            }
            SOV_foreign_ministry_leader = {
                image = "[SOV_get_foreign_ministry_suslov_leader]"
            }
            SOV_propaganda_department_leader = {
                image = "[SOV_get_propaganda_department_leader]"
            }
        }
    }
}
