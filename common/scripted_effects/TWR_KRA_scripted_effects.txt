#########################################################################
###=================| KRASNOYARSK SCRITPTED EFFECTS |==================##
####=====================| Coded by GreyShadow |=====================####
#########################################################################


collapse_of_krasnoyarsk = {
	KRA = {
		kill_country_leader = yes
		retire_ideology_leader = bolshevik_leninist
		set_politics = {	
			ruling_party = bolshevik_leninist
		}
		create_country_leader = {
			name = "Rodion Malinovsky"
			desc = "Rodion_Malinovsky_desc"
			picture = "Rodion_Malinovsky_Leader.dds"
			expire = "1968.1.1"
			ideology = neo-communism
			traits = { }
		}
		custom_effect_tooltip = KRA_COLLAPSE
		hidden_effect = {
			clr_country_flag = secretary_of_the_party
			clr_country_flag = sp_Kosygin
			set_country_flag = secretary_of_the_party_zaytsev
			set_country_flag = sp_Zaytsev
			remove_ideas = KRA_Kosygin_hos
			add_ideas = KRA_Zaytsev_hos
			add_ideas = { 
				KRA_Krasnoyarskian_Civil_War
				KRA_A_Shattered_Red_Army
				KRA_The_Ever_Influential_Factions
				KRA_A_Hero_Murdered_By_Pawns
			}
			add_ideas = {
				KRA_HoG_Victor_Glushkov
				KRA_FM_Ernst_Schacht
				KRA_MoS_Mao_Anying
				KRA_AM_Zhang_Chunqiao
				KRA_CoStaff_Rodion_Malinovsky
				KRA_CoArmy_Vasily_Zaytsev
				KRA_CoAir_Grigory_Kravhcenko
				KRA_CoNavy_Alexander_Marinesko
			}
			every_unit_leader = {
				retire = yes
			}
			delete_unit = {
				state = 568
				disband = no
			}
			delete_unit = {
				state = 567
				disband = no
			}
			delete_unit = {
				state = 566
				disband = no
			}
			delete_unit = {
				state = 329
				disband = no
			}
			delete_unit = {
				state = 978
				disband = no
			}
			set_party_name = {
				ideology = social_democrat
				long_name = KRA_Malinovsky_social_democrat_party_long
				name = KRA_Malinovsky_social_democrat_party
			}
			set_party_name = {
				ideology = socialist
				long_name = KRA_Malinovsky_socialist_party_long
				name = KRA_Malinovsky_socialist_party
			}
			set_party_name = {
				ideology = bolshevik_leninist
				long_name = KRA_Malinovsky_bolshevik_leninist_party_long
				name = KRA_Malinovsky_bolshevik_leninist_party
			}
			set_party_name = {
				ideology = marxist_leninist
				long_name = KRA_Malinovsky_marxist_leninist_party_long
				name = KRA_Malinovsky_marxist_leninist_party
			}
			create_country_leader = {
				name = "Militia"
				#desc = ""
				#picture = ".dds"
				expire = "1968.1.1"
				ideology = military_dictatorshipz
				traits = { }
			}
			create_country_leader = {
				name = "Rodion Malinovsky"
				desc = "Rodion_Malinovsky_desc"
				picture = "gfx/leaders/KRA/Rodion_Malinovsky.dds"
				expire = "1968.1.1"
				ideology = social_patriotism
				traits = { }
			}
			create_country_leader = {
				name = "Rodion Malinovsky"
				desc = "Rodion_Malinovsky_desc"
				picture = "gfx/leaders/KRA/Rodion_Malinovsky.dds"
				expire = "1968.1.1"
				ideology = zhukovism
				traits = { }
			}
			create_country_leader = {
				name = "Mao Anying"
				desc = "Mao_Anying_desc"
				picture = "gfx/leaders/KRA/Mao_Anying.dds"
				expire = "1968.1.1"
				ideology = traditionalist_socialism
				traits = { }
			}
			create_field_marshal = {
				name = "Rodion Malinovsky"
				portrait_path = "gfx/leaders/KRA/Rodion_Malinovsky.dds"
				traits = { brilliant_strategist war_hero combined_arms_expert }
				skill = 5
				attack_skill = 4
				defense_skill = 4
				planning_skill = 3
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Alexey Selivanov"
				portrait_path = "gfx/leaders/KRA/Alexey_Selivanov.dds"
				traits = { politically_connected }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
			}
			create_corps_commander = {
				name = "Zakhar Slyusarenko"
				portrait_path = "gfx/leaders/KRA/Zakhar_Slyusarenko.dds"
				traits = { armor_officer }
				skill = 3
				attack_skill = 4
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Mao Anying"
				portrait_path = "gfx/leaders/KRA/Mao_Anying.dds"
				traits = { trait_reckless trickster organizer }
				skill = 3
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
			}
			create_corps_commander = {
				name = "Ivan Sidorenko"
				portrait_path = "gfx/leaders/KRA/Ivan_Sidorenko.dds"
				traits = { }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 3
			}
			create_corps_commander = {
				name = "Vladislav Vinogradov"
				portrait_path = "gfx/leaders/KRA/Vladislav_Vinogradov.dds"
				traits = { career_officer }
				skill = 2
				attack_skill = 2
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 2
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Strelkovaya Diviziya"
				disband = no
			}
			delete_unit_template_and_units = {
				division_template = "Gvardeyskaya Tankovaya Diviziya"
				disband = no
			}
			delete_unit_template_and_units = {
				division_template = "Pekhotnaya Diviziya"
				disband = no
			}
			load_oob = "KRA_Collapse"
			load_focus_tree = KRA_malinovsky_tree
		}
	}
	hidden_effect = {
		KCS = {
			transfer_state = 568
			add_state_core = 568
			add_state_core = 329
			add_state_core = 566
			add_state_core = 567
			add_state_core = 875
			add_state_core = 978
			load_oob = "KCS_revolt"
			inherit_technology = KRA
			add_ideas = {
				KRA_Krasnoyarskian_Civil_War
				KCS_The_Citys_Savior
				KCS_Red_Army_Defectors
				KCS_The_Failures_Of_Socialism
			}
		}
		IRK = {
			transfer_state = 566
			add_state_core = 566
			add_state_core = 568
			add_state_core = 329
			add_state_core = 875
			add_state_core = 567
			add_state_core = 978
			load_oob = "IRK_Revolt"
			inherit_technology = KRA
			add_ideas = {
				KRA_Krasnoyarskian_Civil_War
				IRK_The_Only_True_Russian_Democrats
				IRK_The_PDR_Command_in_Siberia
				IRK_Irkutsk_Base_Area
			}
		}
		TAN = {
			transfer_state = 329
			transfer_state = 875
			add_state_core = 875
			load_oob = "TAN_Revolt"
			add_ideas = {
				KRA_Krasnoyarskian_Civil_War
				TAN_Tuvan_Independence_Restored
				TAN_The_Influence_Of_Toka
				TAN_A_Nation_Surrounded
			}
			declare_war_on = {
				target = KRA
				type = civil_war
			}
			declare_war_on = {
				target = KCS
				type = civil_war
			}
			declare_war_on = {
				target = IRK
				type = civil_war
			}
		}
		KRA = {
			declare_war_on = {
				target = KCS
				type = civil_war
			}
			declare_war_on = {
				target = IRK
				type = civil_war
			}
			set_politics = {	
				ruling_party = bolshevik_leninist
			}
		}
		KCS = {
			declare_war_on = {
				target = IRK
				type = civil_war
			}
		}
	}
}