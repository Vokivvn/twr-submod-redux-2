#####################
##Coded by Spyeter###
#####################

shared_focus = {
	id = CRO_Francetic
	icon = GFX_CRO_Francetic
	cost = 5
	x = 14
	y = 0
	cancelable = no
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Artukovic_Is_Dead"
		custom_effect_tooltip = Focus_be_Bypassed_tt
		add_ideas = CRO_Unstable_Government_idea
	}
}

shared_focus = {
	id = CRO_Francetic_Towards_A_Legionary_State
	icon = GFX_CRO_A_Terrible_Swarm_of_Avengers
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Francetic
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Towards_A_Legionary_State"
		add_ideas = CRO_Oruznistvo_idea 
		IF = {
			limit = {
				has_dlc = "La Resistance"
			}
			cro_create_intelligence_agency = yes
		}	
		add_popularity = {
			ideology = national_socialist
			popularity = 0.10
		}
		add_popularity = {
			ideology = fascist
			popularity = 0.15
		}	
	}
}

shared_focus = {
	id = CRO_Francetic_Purge_the_Home_Guard
	icon = GFX_CRO_Disband_the_Ustashe
	cost = 5
	x = 0
	y = 1
	relative_position_id = CRO_Francetic_Towards_A_Legionary_State
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Towards_A_Legionary_State
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Purge_the_Home_Guard"
		country_event = { id = twrcroatia.130 }
	}
}

shared_focus = {
	id = CRO_Francetic_Our_Own_Legionarism
	icon = GFX_GENERIC_Pass_Legislation
	cost = 5
	x = 2
	y = 1
	relative_position_id = CRO_Francetic_Towards_A_Legionary_State
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Towards_A_Legionary_State
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Our_Own_Legionarism"
		add_ideas = Croatian_Legionarism
	}
}

shared_focus = {
	id = CRO_Francetic_A_Legionary_Sabor
	icon = GFX_SOV_duumvirist_senate
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Francetic_Our_Own_Legionarism
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Our_Own_Legionarism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_A_Legionary_Sabor"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}
	}
}

shared_focus = {
	id = CRO_Francetic_Empower_The_Church
	icon = GFX_GENERIC_Catholic_Government
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Francetic_Our_Own_Legionarism
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Our_Own_Legionarism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Empower_The_Church"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}
	}
}

shared_focus = {
	id = CRO_Francetic_Luburic_Situation
	icon = GFX_GEN_German_Lapdog
	cost = 5
	x = -2
	y = 1
	relative_position_id = CRO_Francetic_Towards_A_Legionary_State
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Towards_A_Legionary_State
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Luburic_Situation"
        add_ideas = CRO_Luburic_Problems
	}
}


shared_focus = {
	id = CRO_Francetic_Execute_Luburic
	icon = GFX_CRO_Francetic_Execute_Luburic
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Francetic_Luburic_Situation
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Luburic_Situation
	}
	mutually_exclusive = {
		focus = CRO_Francetic_Appease_Luburic
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Execute_Luburic"
        country_event = { id = twrcroatia.210 }
		remove_ideas = CRO_Luburic_Problems 
	}
}


shared_focus = {
	id = CRO_Francetic_Appease_Luburic
	icon = GFX_CRO_CRO_Francetic_Appease_Luburic
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Francetic_Luburic_Situation
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Luburic_Situation
	}
	mutually_exclusive = {
		focus = CRO_Francetic_Execute_Luburic
	}
	available = { owns_state = 819 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Appease_Luburic"
                custom_effect_tooltip = CRO_Appease_Luburic_tt
				swap_ideas = {
					remove_idea = CRO_Luburic_Problems
					add_idea = CRO_Luburic_Appeased
				}
                hidden_effect = {
819 = {

                add_dynamic_modifier = { modifier = luburic_srem_i }

                        }
              }
	}
}

shared_focus = {
	id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	icon = GFX_CRO_Francetic_Consolidate_Power
	cost = 5
	x = 0
	y = 3
	relative_position_id = CRO_Francetic_Towards_A_Legionary_State
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_A_Legionary_Sabor
	}
	prerequisite = {
		focus = CRO_Francetic_Purge_the_Home_Guard
	}
	prerequisite = {
		focus = CRO_Francetic_Empower_The_Church
	}
	prerequisite = {
		focus = CRO_Francetic_Execute_Luburic
		focus = CRO_Francetic_Appease_Luburic
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Enshrine_The_Conqueror_Of_Drina"
		unlock_decision_category_tooltip = the_francetic_doctrine_category
		add_country_leader_trait = conqueror_of_drina
        random_unit_leader = { limit = { has_id = 802 } promote_leader = yes }
		set_country_flag = disable_ndh_gui_flag
		custom_effect_tooltip = cro_disable_ndh_gui_tt 
		swap_ideas = {
			remove_idea = CRO_Unstable_Government_idea
			add_idea = CRO_Unstable_Government_1_idea
		}
		IF = {
			limit = {
				has_idea = CRO_Divided_Home_Guard_idea
			}
			remove_ideas = CRO_Divided_Home_Guard_idea
			country_lock_all_division_template = no
			else = {
				effect_tooltip = {
					remove_ideas = CRO_Divided_Home_Guard_idea
				}
			}
		}	
        hidden_effect = {
                set_country_leader_portrait = {
                ideology = national_socialist
                portrait = GFX_Portrait_Jure_Francetic_2
            }
        }
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}	
	}
}

shared_focus = {
	id = CRO_Francetic_Legionary_Diplomacy
	icon = GFX_GENERIC_Political_Purge
	cost = 5
	x = -2
	y = 1
	relative_position_id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Legionary_Diplomacy"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}		
	}
}

shared_focus = {
	id = CRO_Francetic_Irredentism
	icon = GFX_CRO_A_Dream_Come_True
	cost = 5
	x = -1
	y = 1
	relative_position_id = CRO_Francetic_Legionary_Diplomacy
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Legionary_Diplomacy
	}
	available = {
		has_completed_focus = CRO_The_Worst_is_Behind_Us
		has_completed_focus = CRO_Mediterranean_Navy_Expansion
		has_completed_focus = CRO_Modernise_Our_Land_Forces
		has_completed_focus = CRO_Improving_The_Airforce
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Legionary_Diplomacy"
		custom_effect_tooltip = cro_unlock_expansion_branch
	}
}

shared_focus = {
	id = CRO_Francetic_German_Support
	icon = GFX_GER_Germany_Once_More
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Francetic_Legionary_Diplomacy
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Legionary_Diplomacy
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Legionary_Diplomacy"
	add_manpower = 25000
	add_equipment_to_stockpile = {
    type = infantry_equipment_0
    amount = 1000
    producer = GER
		}		
	}
}

shared_focus = {
	id = CRO_Francetic_To_Purify_The_Nation
	icon = GFX_GENERIC_Gun_Purge
	cost = 5
	x = 1
	y = 1
	relative_position_id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Enshrine_the_Church"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}		
	}
}

shared_focus = {
	id = CRO_Francetic_Enshrine_the_Church
	icon = GFX_GENERIC_Catholic_Secular
	cost = 5
	x = 3
	y = 1
	relative_position_id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Enshrine_the_Church"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}		
	}
}

shared_focus = {
	id = CRO_Francetic_A_New_Croatian_Man
	icon = GFX_CRO_The_Master_Race_Arrives
	cost = 5
	x = 2
	y = 2
	relative_position_id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_To_Purify_The_Nation
	}
	prerequisite = {
		focus = CRO_Francetic_Enshrine_the_Church
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_A_New_Croatian_Man"
		IF = {
			limit = {
				has_idea = Croatian_Legionarism
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism
				add_idea = Croatian_Legionarism_1
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_1
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_1
				add_idea = Croatian_Legionarism_2
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_2
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_2
				add_idea = Croatian_Legionarism_3
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_3
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_3
				add_idea = Croatian_Legionarism_4
			}
		}
		else_if = {
			limit = {
				has_idea = Croatian_Legionarism_4
			}
			swap_ideas = {
				remove_idea = Croatian_Legionarism_4
				add_idea = Croatian_Legionarism_5
			}
		}
		else = {
			swap_ideas = {
				remove_idea = Croatian_Legionarism_5
				add_idea = Croatian_Legionarism_6
			}
		}	
	}
}

shared_focus = {
	id = CRO_Francetic_Reorganized_Croatian_State
	icon = GFX_CRO_Reorganized_Croatian_State
	cost = 5
	x = 0
	y = 3
	relative_position_id = CRO_Francetic_Enshrine_The_Conqueror_Of_Drina
	cancelable = no
	prerequisite = {
		focus = CRO_Francetic_Irredentism
	}
	prerequisite = {
		focus = CRO_Francetic_German_Support
	}
	prerequisite = {
		focus = CRO_Francetic_A_New_Croatian_Man
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: focus CRO_Francetic_Reorganized_Croatian_State"
		country_event = { id = croatiauprising.28 }
	}
}

