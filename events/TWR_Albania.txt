add_namespace = twralbania
add_namespace = twrbelgradepact

country_event = {
	id = twralbania.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.1.t
	desc = twralbania.1.d
	picture = GFX_report_event_forest_raid
	
	is_triggered_only = yes

	fire_only_once = no
	trigger = {
	ALB = { is_communist = no }
	}	
	option = {
		name = twralbania.1.a
		trigger = { tag = ALB }
		add_popularity = {
		ideology = marxist_leninist
		popularity = 0.02
		}
		add_stability = -0.02
		hidden_effect = {
			country_event = {
			id = twralbania.2
			days = 10
			}
			ITA = {
			country_event = {
			id = twralbania.2
			days = 10
				}			
			}
		}
	}
	option = {
		name = twralbania.1.a
		trigger = { tag = ITA }
		ITA = {
		custom_effect_tooltip = ita_increase_unrest_albania_tt
		add_to_variable = { ita_var_albania_opposition = 0.2 }	
		}
	}
}

country_event = {
	id = twralbania.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.2.t
	desc = twralbania.2.d
	picture = GFX_report_event_belgrade_partisan
	
	is_triggered_only = yes

	fire_only_once = yes
	trigger = {
	ALB = { is_communist = no }
	}	
	option = {
		name = twralbania.2.a
		trigger = { tag = ALB }
		add_popularity = {
		ideology = marxist_leninist
		popularity = 0.02
		}
		add_stability = -0.03
		hidden_effect = {
			country_event = {
			id = twralbania.3
			days = 8
			}
		}
	}
	option = {
		name = twralbania.2.a
		trigger = { tag = ITA }
		ITA = {
		custom_effect_tooltip = ita_increase_unrest_albania_tt
		add_to_variable = { ita_var_albania_opposition = 0.1 }	
		}
	}
}

country_event = {
	id = twralbania.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.3.t
	desc = twralbania.3.d
	picture = GFX_report_event_burnt_shits
	trigger = {
	ALB = { is_communist = no }
	}	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.3.a
		add_popularity = {
		ideology = marxist_leninist
		popularity = 0.03
		}
		add_manpower = -65
		hidden_effect = {
			country_event = {
			id = twralbania.4
			days = 4
			}
		}
	}
}

country_event = {
	id = twralbania.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.4.t
	desc = twralbania.4.d
	picture = GFX_report_event_belarusian_revolt
	trigger = {
	ALB = { is_communist = no }
	}	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.4.a
		add_popularity = {
		ideology = marxist_leninist
		popularity = 0.02
		}
		add_equipment_to_stockpile = {
		type = infantry_equipment
		amount = -50
		producer = ALB
			}
		hidden_effect = {
			country_event = {
			id = twralbania.5
			days = 7
			}
		}
	}
}

country_event = {
	id = twralbania.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.5.t
	desc = twralbania.5.d
	picture = GFX_report_event_belarusian_revolt
	trigger = {
	ALB = { is_communist = no }
	}	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.5.a
		add_manpower = -37
		add_stability = -0.05
		hidden_effect = {
			country_event = {
			id = twralbania.6
			days = 2
			}
		}
	}
}

country_event = {
	id = twralbania.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.6.t
	desc = twralbania.6.d
	picture = GFX_report_event_belgian_resistance
	
	is_triggered_only = yes

	fire_only_once = yes
	trigger = {
	ALB = { is_communist = no }
	}
	option = {
		name = twralbania.6.a
		44 = {
		damage_building = {
		type = infrastructure
		damage = 1
			}
		}
		980 = {
		damage_building = {
		type = infrastructure
		damage = 1
			}
		}
	}
	option = {
		name = twralbania.6.b #Ask Italy for Help
		trigger = {
		ITA = {
		has_war = no
			}
		has_war_support > 0.25
		}
		ai_chance = {
		factor = 40
		}
		44 = {
		damage_building = {
		type = infrastructure
		damage = 1
			}
		}
		980 = {
		damage_building = {
		type = infrastructure
		damage = 1
			}
		}
		ITA = {
		country_event = { id = twralbania.61 hours = 7 }
		}
	}
}

country_event = {
	id = twralbania.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.61" }
	title = twralbania.61.t
	desc = twralbania.61.d
	picture = GFX_report_event_belgian_resistance
	trigger = {
	ALB = { is_communist = no }
	}	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.61.a #Send them help
		ai_chance = { factor = 1 }
		add_manpower = -5000
		add_political_power = -150
		subtract_from_variable = {
			var = ita_var_albania_opposition
			value = 0.4
		}
		add_to_variable = { ita_var_coup_chance = 0.1 }
		custom_effect_tooltip = ita_increase_coup_chance_tt
		ALB = {
		add_manpower = 5000
		country_event = { id = twralbania.62 days = 1 }
		}
	}
	option = {
		name = twralbania.61.b #No help
		ai_chance = { factor = 0 }
		add_political_power = 150
		add_stability = 0.1
		set_variable = { ita_var_albania_opposition = 0.70 }
	}
}

country_event = {
	id = twralbania.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.62" }
	title = twralbania.62.t
	desc = twralbania.62.d
	picture = GFX_report_event_italian_milan
	trigger = {
	ALB = { is_communist = no }
	}	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.62.a #yey
		add_stability = 0.15
		add_popularity = {
		ideology = marxist_leninist
		popularity = -0.15
		}
	}
}

country_event = {
	id = twralbania.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twralbania.7.t
	desc = twralbania.7.d
	picture = GFX_report_event_belgian_resistance
	trigger = {
		ITA = {
		check_variable = {
        var = ita_var_albania_opposition
        value = 0.65
        compare = greater_than_or_equals 
            }
		}
	}
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twralbania.7.a
		drop_cosmetic_tag = yes
		set_politics = {
		ruling_party = marxist_leninist
		}	
		add_popularity = {
		ideology = marxist_leninist
		popularity = 0.4
			}
		hidden_effect = {
		every_country = {
		limit = { has_war_with = ALB }
		white_peace = ALB
		}
		ITA = {
		end_puppet = ALB
		remove_from_faction = ALB
			}
		swap_ideas = {
		remove_idea = dictatorship
		add_idea = authoritarian_system
			}
		load_focus_tree = {
		tree = TWR_Albania_Communist
		}
		create_field_marshal = {
			name = "Mehmet Shehu"
			picture = "Mehmet_Shehu_V2.dds"
			traits = { politically_connected organisational_leader }
			id = 58001
			skill = 2
			attack_skill = 3
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
			}
			
		create_corps_commander = {
			name = "Bedri Spahiu"
			picture = "Bedri_Spahiu.dds"
			traits = { guerilla_fighter }
			id = 58002
			skill = 1
			attack_skill = 2
			defense_skill = 1
			planning_skill = 2
			logistics_skill = 1
			}
			
		create_corps_commander = {
			name = "Spiro Moisiu"
			picture = "Spiro_Moisiu_V2.dds"
			traits = { infantry_expert }
			id = 58003
			skill = 2
			attack_skill = 2
			defense_skill = 3
			planning_skill = 1
			logistics_skill = 2
			}
		remove_unit_leader = 4401
		remove_unit_leader = 4402
		complete_national_focus = ALB_The_Albanian_Revolution
		add_ideas = ALB_HoG_Enver_Hoxha
		add_ideas = ALB_FM_Spiro_Koleka
		add_ideas = ALB_MoS_Mehmet_Shehu
		add_ideas = ALB_AM_Gogo_Nushi
		add_ideas = ALB_CoStaff_Mehmet_Shehu
		add_ideas = ALB_CoArmy_Mehmet_Shehu
		add_ideas = ALB_CoNavy_Teme_Sejko
		add_ideas = ALB_CoAir_Niko_Hoxha
		news_event = twralbania.8
		}
	}
	
}
news_event = {
	id = twralbania.8 #Communist Albania
	title = twralbania.8.t 
	desc = twralbania.8.d      
	picture = GFX_news_event_albanian_revolution

	major = yes
	is_triggered_only = yes 
	fire_only_once = no 

	option = { #oh no 
		name = twralbania.8.a									
	}
} 




country_event = {
	id = twrbelgradepact.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twrbelgradepact.1.t
	desc = twrbelgradepact.1.d
	picture = GFX_report_event_belgian_resistance
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twrbelgradepact.1.a
	SER = {
		country_event = {
		id = twrbelgradepact.2
				}
		}
	}
	
	
}

country_event = {
	id = twrbelgradepact.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twrbelgradepact.2.t
	desc = twrbelgradepact.2.d
	picture = GFX_report_event_belgian_resistance
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twrbelgradepact.2.a
		ai_chance = { 
			factor = 70
		}
		create_faction = The_Belgrade_Pact
		set_country_flag = BELGRADE_PACT_EPIC
		ALB = {
		country_event = {
		id = twrbelgradepact.3
		days = 1
			}
		}
	}
	
	option = {
		name = twrbelgradepact.2.b
		ai_chance = { 
			factor = 30
		}
		ALB = {
		country_event = {
		id = twrbelgradepact.4
		days = 1
			}
		}
	}
	
}

country_event = {
	id = twrbelgradepact.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twrbelgradepact.3.t
	desc = twrbelgradepact.3.d
	picture = GFX_report_event_belgian_resistance
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twrbelgradepact.3.a
		SER = { add_to_faction = ALB }
	}
	
}

country_event = {
	id = twrbelgradepact.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event twralbania.1" }
	title = twrbelgradepact.4.t
	desc = twrbelgradepact.4.d
	picture = GFX_report_event_belgian_resistance
	
	is_triggered_only = yes

	fire_only_once = yes
	
	option = {
		name = twrbelgradepact.4.a
		create_faction = The_Tirana_Pact
		set_country_flag = TIRANA_PACT
	}
	
}

