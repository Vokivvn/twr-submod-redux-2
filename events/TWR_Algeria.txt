add_namespace = algeria
country_event = {#Riot
	id = algeria.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.10"}
	title = algeria.0.t
	desc = algeria.0.d
	picture = GFX_report_event_french_riot

	is_triggered_only = yes

	option = {#oof
		name = algeria.0.a
		add_stability = -0.1
		hidden_effect = { 
			country_event = { id = algeria.1 days = 4 }
		}
	}
	
}
country_event = {
	id = algeria.1
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event algeria.1"
		set_global_flag = ALG_WAR_START
	}
	title = algeria.1.t
	desc = algeria.1.d
	picture = GFX_report_event_algerian_war
	
	is_triggered_only = yes
	
	fire_only_once = yes

	
	option = { 
		name = algeria.1.a
		custom_effect_tooltip = algindependence
		ai_chance = {
			factor = 0
		}				
		hidden_effect = {
		ITA = {
			country_event = { id = twritavar.1 days = 3 } #ITA DOMESTIC OPPOSITION
		}
			ALG = {
				transfer_state = 460
				transfer_state = 459
				transfer_state = 513
				load_oob = "ALG_1952"
				add_ideas = ALG_Independence_War
				country_event = { id = algeria.2 days = 2 }
				news_event = algeria.3
				set_country_flag = ALG_WAR_START
			}

			SAC = {
				transfer_state = 514
				transfer_state = 843
				transfer_state = 845
				transfer_state = 793
				transfer_state = 914
				transfer_state = 913
				transfer_state = 557
				transfer_state = 844
			}

			SAC = {
				load_oob = "SAC_1952"
				set_country_flag = ALG_WAR_START
			}


			ORA = {
				transfer_state = 842
			}

			ALG = {
				set_state_controller = 842
			}

			ORA = {
				load_oob = "ORA_1952"
				set_province_controller = 11923
				set_province_controller = 4150
				set_province_controller = 7132
				set_province_controller = 4116
				add_ideas = ALG_Independence_War
				give_military_access = FRA 
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = FRA
					relation = docking_rights
					active = no
				}
				set_country_flag = ALG_WAR_START
			}


			ALG = {
				declare_war_on = {
					target = ORA
					type = annex_everything
				}
				change_tag_from	= ROOT
			}
		}
	}
	
	option = { 
		name = algeria.1.b
		custom_effect_tooltip = algoran
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
			ALG = {
				transfer_state = 460
				transfer_state = 459
				transfer_state = 513
				load_oob = "ALG_1952"
				add_ideas = ALG_Independence_War
				country_event = { id = algeria.2 days = 2 }
				news_event = algeria.3
				set_country_flag = ALG_WAR_START
			}

			SAC = {
				transfer_state = 514
				transfer_state = 843
				transfer_state = 845
				transfer_state = 793
				transfer_state = 914
				transfer_state = 913
				transfer_state = 557
				transfer_state = 844
			}

			SAC = {
				load_oob = "SAC_1952"
				set_country_flag = ALG_WAR_START
			}


			ORA = {
				transfer_state = 842
			}

			ALG = {
				set_state_controller = 842
			}

			ORA = {
				load_oob = "ORA_1952"
				set_province_controller = 11923
				set_province_controller = 4150
				set_province_controller = 7132
				set_province_controller = 4116
				add_ideas = ALG_Independence_War
				give_military_access = FRA 
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = FRA
					relation = docking_rights
					active = no
				}
				set_country_flag = ALG_WAR_START
			}


			ALG = {
				declare_war_on = {
					target = ORA
					type = annex_everything
				}
			}
		}
	}
	
	option = { 
		name = algeria.1.c
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			ALG = {
				transfer_state = 460
				transfer_state = 459
				transfer_state = 513
				load_oob = "ALG_1952"
				add_ideas = ALG_Independence_War
				country_event = { id = algeria.2 days = 2 }
				news_event = algeria.3
				set_country_flag = ALG_WAR_START
			}

			SAC = {
				transfer_state = 514
				transfer_state = 843
				transfer_state = 845
				transfer_state = 793
				transfer_state = 914
				transfer_state = 913
				transfer_state = 557
				transfer_state = 844
			}

			SAC = {
				load_oob = "SAC_1952"
				set_country_flag = ALG_WAR_START
			}


			ORA = {
				transfer_state = 842
			}

			ALG = {
				set_state_controller = 842
			}

			ORA = {
				load_oob = "ORA_1952"
				set_province_controller = 11923
				set_province_controller = 4150
				set_province_controller = 7132
				set_province_controller = 4116
				add_ideas = ALG_Independence_War
				give_military_access = FRA 
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = FRA
					relation = docking_rights
					active = no
				}
				set_country_flag = ALG_WAR_START
			}


			ALG = {
				declare_war_on = {
					target = ORA
					type = annex_everything
				}
			}
		}
	}
}

country_event = {
	id = algeria.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.2"}
	title = algeria.2.t
	desc = algeria.2.d
	picture = GFX_report_event_barb_bit
	
	is_triggered_only = yes
	
	fire_only_once = yes

	
	
	option = { 
		name = algeria.2.a
		custom_effect_tooltip = algrevolution
		ai_chance = {
			factor = 0
		}
		hidden_effect = {
			BAR = {
				transfer_state = 513
				load_oob = "BAR_1952"
				add_ideas = ALG_Independence_War
			}
			BAR = {
				declare_war_on = {
					target = ALG
					type = annex_everything
				}
				declare_war_on = {
					target = ORA
					type = annex_everything
				}
				change_tag_from	= ROOT
				set_country_flag = ALG_WAR_START
			}
		}

	}
	
	option = { 
		name = algeria.2.b
		ai_chance = {
			factor = 100
		}
		hidden_effect = {
			BAR = {
				transfer_state = 513
				load_oob = "BAR_1952"
				add_ideas = ALG_Independence_War
			}
			BAR = {
				declare_war_on = {
					target = ALG
					type = annex_everything
				}
				declare_war_on = {
					target = ORA
					type = annex_everything
				}
				set_country_flag = ALG_WAR_START
			}
		}

	}
	
}
news_event = {
	id = algeria.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.3"}
	title = algeria.3.t
	desc = algeria.3.d
	picture = GFX_news_event_start_of_the_revolt
	fire_only_once = no
	is_triggered_only = yes
	major = yes

	option = {
		name = algeria.3.a
	}
}
country_event = { #algeria.4 on action
	id = algeria.41

	is_triggered_only = yes

	hidden = yes

	fire_only_once = yes

	immediate = {
		news_event = algeria.4
	}
	
	option = {
		name = hidnews.1.a
	}
}
news_event = {
	id = algeria.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.4"}
	title = algeria.4.t
	desc = {                               #This is the first description, it will be used if the ace pilot is promoted in any country except the major ones (listed below).
		text = algeria.4.d1        #Algerian Victory
		trigger = {                    #this is needed trigger.
			ALG = {
				exists = yes
			}
		}
	}  
	desc = {                               #This is the first description, it will be used if the ace pilot is promoted in any country except the major ones (listed below).
		text = algeria.4.d2       #ORA Victory
		trigger = {                    #this is needed trigger.
			ORA = {
				exists = yes
			}
		}
	}  
	desc = {                               #This is the first description, it will be used if the ace pilot is promoted in any country except the major ones (listed below).
		text = algeria.4.d3      #Bar Victory
		trigger = {                    #this is needed trigger.
			BAR = {
				exists = yes
			}
		}
	} 
	picture = GFX_news_event_end_of_alger_war
	fire_only_once = no
	is_triggered_only = yes
	major = yes

	option = {
		name = algeria.4.a
	}
}
country_event = {
	id = algeria.5 #Oran return to France
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.5"}
	title = algeria.5.t
	desc = algeria.5.d
	picture = GFX_report_event_vichy_french_forces
	
	is_triggered_only = yes
	
	fire_only_once = yes

	
	
	option = { 
		name = algeria.5.a #direct annex
		ai_chance = {
			factor = 40
		}
		add_political_power = -150
		add_stability = -0.1
		hidden_effect = {
			FRA = {
				annex_country = {
					target = ORA
					transfer_troops = no
				}				
			}
		}
	}
	
	option = { 
		name = algeria.5.b #puppet ORA time
		ai_chance = {
			factor = 60
		}
		add_political_power = 50
		hidden_effect = {
			set_autonomy = {
				target = ORA
				autonomous_state = autonomy_colony
			}
			ORA = {
			set_cosmetic_tag = FRE_ALG
			}
		}
	}
}

country_event = {# Request the desert
	id = algeria.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.6"}
	title = algeria.6.t
	desc = algeria.6.d
	picture = GFX_report_event_sign_paper

	is_triggered_only = yes
	fire_only_once = yes


	option = {
		name = algeria.6.a
		SAC = {	country_event = { id = algeria.7 days = 1 } }
	}
}

country_event = {# Algerians Request the desert
	id = algeria.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.7"}
	title = algeria.7.t
	desc = algeria.7.d
	picture = GFX_report_event_sign_paper

	is_triggered_only = yes
	fire_only_once = yes


	option = {
		name = algeria.7.a
		FROM = { country_event = algeria.8 }
		hidden_effect = {
		country_event = { id = algeria.10 days = 7 }
		}
	}
}

country_event = {# Saharans Accept
	id = algeria.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.8"}
	title = algeria.8.t
	desc = algeria.8.d
	picture = GFX_report_event_sign_paper

	is_triggered_only = yes
	fire_only_once = yes


	option = {
		name = algeria.8.a
		transfer_state = 514
	}
}


news_event = { #End of the Council
	id = algeria.9
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event algeria.9"
	}

	title = algeria.9.t
	desc = algeria.9.d
	picture = GFX_news_event_tank_in_the_sand

	is_triggered_only = yes
	fire_only_once = no
	major = yes
	

	option = {
		name = algeria.9.a
	}
}

country_event = {#The End of Sahara
	id = algeria.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.10"}
	title = algeria.10.t
	desc = algeria.10.d
	picture = GFX_report_event_sign_paper

	is_triggered_only = yes
	fire_only_once = yes


	option = {
		name = algeria.10.a
		MRT = {
		transfer_state = 914
		}
		if = {
		limit = { country_exists = NGR }
		release = NGR
		}
		if = {
		limit = {
		country_exists = AZA
		AZA = { controls_state = 934 }
		}
		release = AZA
		}
		if = {
		limit = {
		country_exists = MLI
		MLI = { controls_state = 934 }
		}
		release = MLI
		}
		if = {
		limit = {
		country_exists = CHA
		}
		release = CHA
		}
		if = {
		limit = { FFR = { controls_state = 788 } }
		FFR = {
		transfer_state = 844
			}
		}
		if = {
		limit = { FFR = { controls_state = 934 } }
		FFR = {
		transfer_state = 845
			}
		}
		if = {
		limit = { FFR = { controls_state = 515 } }
		FFR = {
		transfer_state = 843
			}
		}
		MRT = {
		annex_country = {
		    target = SAC
		    transfer_troops = yes
			}
		news_event = algeria.9
		}
	}
}

country_event = {
	id = algeria.11 #France has fallen
	immediate = {log = "[GetDateText]: [Root.GetName]: event algeria.11"}
	title = algeria.11.t
	desc = algeria.11.d
	picture = GFX_report_event_vichy_french_forces
	
	is_triggered_only = no
	
	fire_only_once = yes

	trigger = {
	is_subject_of = FRA
	tag = ORA
	FRA = {
	is_communist = yes
		}
	}
	
	
	option = { 
		name = algeria.11.a #break off
		add_political_power = -150
		add_stability = -0.1
		add_war_support = -0.1
		FRA = {
		end_puppet = ORA
		set_autonomy = {
    	target = ORA
    	autonomy_state = autonomy_free
			}
		}
	}
}