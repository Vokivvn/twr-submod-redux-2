add_namespace = twrheer
add_namespace = twrheernews

# Choosing a Reichsprasident
country_event = {
	id = twrheer.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.1" }
 	title = twrheer.1.t
 	desc = twrheer.1.d
 	picture = GFX_report_event_president_palace

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.1.a # Reichsprasident Lettow-Vorbeck
		set_country_flag = has_symbolic_figurehead
		set_country_flag = pres_Paul_von_Lettow_Vorbeck
		news_event = twrheernews.1
		hidden_effect = {
		add_ideas = hos_popular_figurehead
		}
	}
	option = {
 		name = twrheer.1.b # Reichsprasident Mackensen
		set_country_flag = has_symbolic_figurehead
		set_country_flag = pres_Eberhard_von_Mackensen
		news_event = twrheernews.2
		hidden_effect = {
		add_ideas = hos_mediocre
		}
	}
	option = {
 		name = twrheer.1.c # Reichsprasident Canaris
		set_country_flag = has_symbolic_figurehead
		set_country_flag = pres_Wilhelm_Canaris
		news_event = twrheernews.4
		hidden_effect = {
		add_ideas = hos_mediocre
		}
	}
}
country_event = {
	id = twrheer.21 #Rommel minor complain
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.21" }
 	title = twrheer.21.t
 	desc = twrheer.21.d
 	picture = GFX_report_event_rommels_hitler_speech

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.21.a
 		add_political_power = -50
 		country_event = { id = twrheer.22 days = 10 random = 300 }
	}
}
country_event = {
	id = twrheer.22 #military purge
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.22" }
 	title = twrheer.22.t
 	desc = twrheer.22.d
 	picture = GFX_report_event_german_spying

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.22.a
 		ai_chance = {
 		factor = 1
 		}
 		add_manpower = -500000
 		add_war_support = -0.25
 		add_stability = -0.15
 		every_unit_leader = {
 		add_skill_level = -1
 		}
 		hidden_effect = {
 		set_country_flag = HGR_ANOTHER_MILITARY_PURGE
 		}
	}
 	option = {
 		name = twrheer.22.b
  		ai_chance = {
 		factor = 0
 		}
 		add_war_support = 0.15
 		custom_effect_tooltip = HGR_THREAT
	}
}
country_event = {
	id = twrheer.2 #Rommel
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.2" }
 	title = twrheer.2.t
 	desc = twrheer.2.d
 	picture = GFX_report_event_rommels_hitler_speech

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.2.a
 		add_political_power = -150
 		add_stability = -0.1
	}
}

# The Separation of Power
country_event = {
	id = twrheer.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.3" }
 	title = twrheer.3.t
 	desc = twrheer.3.d
 	picture = GFX_report_event_hans_rommel_guy

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.3.a # Moderate
 		trigger = {
 		has_country_flag = HGR_ANOTHER_MILITARY_PURGE
 		}
		add_ideas = {
		GER_CoS_Johannes_Blaskowitz
		}
		remove_unit_leader = 903
		hidden_effect = {
		set_country_flag = Erwin_Rommel_unavailable
		}
	}
	option = {
 		name = twrheer.3.b # Nah
  		trigger = {
  		NOT = {
 		has_country_flag = HGR_ANOTHER_MILITARY_PURGE
 		}
 		}
		set_politics = {
			ruling_party = national_socialist
			elections_allowed = no
		}
		add_popularity = { ideology = national_socialist popularity = 0.25 }
		create_country_leader = {
			name = "Erwin Rommel"
			desc = "Erwin_Rommel_DESC"
			picture = "Erwin_Rommel.dds"
			expire = "1965.1.1"
			ideology = national_socialism
			traits = {
			great_war_hero
			}
		}
		add_ideas = {
		GER_HoG_Friedrich_Wilhelm_Kritzinger
		GER_FM_Hermann_Esser
		GER_MoS_Paul_Giesler
		GER_AM_Franz_Seldte
		GER_CoS_Friedrich_Olbricht
		}
		news_event = { id = twrheernews.3 hours = 5 }
		remove_unit_leader = 940
		remove_unit_leader = 920
		remove_unit_leader = 906
		remove_unit_leader = 915
		remove_unit_leader = 919
		remove_unit_leader = 939
		remove_unit_leader = 963
		hidden_effect = {
		set_country_flag = Hans_Speidel_unavailable
		if = {
		limit = { has_country_flag = pres_Eberhard_von_Mackensen }
		country_event = { id = twrheer.5 days = 3 }
		}
		if = {
		limit = { 
		NOT = { 
		has_country_flag = pres_Eberhard_von_Mackensen 
		}
		}
		country_event = { id = twrheer.6 days = 5 }
		}
		}
	}
}

# Restart Generalgouverment
country_event = {
	id = twrheer.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.4" }
 	title = twrheer.4.t
 	desc = twrheer.4.d

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.4.a #Only GGP
 		GGP = {
			transfer_state = 10
			transfer_state = 90
			transfer_state = 92
			transfer_state = 88
			transfer_state = 89
			transfer_state = 91
			transfer_state = 984
			transfer_state = 985
 		}
 		set_autonomy = {
    	target = GGP
    	autonomy_state = autonomy_reichskommissariat
		}
	}
 	option = {
 		name = twrheer.4.b #GGP and Bohemia
 		add_stability = 0.15
 		GGP = {
			transfer_state = 10
			transfer_state = 90
			transfer_state = 92
			transfer_state = 88
			transfer_state = 89
			transfer_state = 91
			transfer_state = 984
			transfer_state = 985
 		}
 		CZE = {
			transfer_state = 75
			transfer_state = 9
			set_cosmetic_tag = CZE_PROTECT
			clr_country_flag = CZE_SUCCESSFUL_REBELLION_INSECURITY
 		}
 		set_autonomy = {
    	target = GGP
    	autonomy_state = autonomy_reichskommissariat
		}
 		set_autonomy = {
    	target = CZE
    	autonomy_state = autonomy_reichskommissariat
		}
	}
}

# Reichsprasident React to Rommel - Mackesen
country_event = {
	id = twrheer.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.5" }
 	title = twrheer.5.t
 	desc = twrheer.5.d
 	picture = GFX_report_event_rommel_approved

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.5.a #Alright
 		add_political_power = 15
	}
}

# Reichsprasident Resigns
country_event = {
	id = twrheer.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.6" }
 	title = twrheer.6.t
 	desc = twrheer.6.d
 	picture = GFX_report_event_president_palace

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.6.a #Alright
 		add_political_power = -150
 		add_stability = -0.15
 		custom_effect_tooltip = PRESIDENT_RESIGNS
 		hidden_effect = {
 		clr_country_flag = pres_Paul_von_Lettow_Vorbeck
 		clr_country_flag = pres_Wilhelm_Canaris
 		set_country_flag = pres_empty_reich
 		country_event = { id = twrheer.7 days = 7 }
 		remove_ideas = {
 		hos_popular_figurehead
		hos_mediocre
 		}
 		}
	}
}

country_event = {
	id = twrheer.7 #President choice
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.7" }
 	title = twrheer.7.t
 	desc = twrheer.7.d
 	picture = GFX_report_event_president_palace

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.7.a # Reichsprasident Reichenau
		clr_country_flag = pres_empty_reich
		set_country_flag = pres_Walther_von_Reichenau
		news_event = twrheernews.5
		hidden_effect = {
		add_ideas = hos_mediocre
		}
	}
	option = {
 		name = twrheer.7.b # Get rid of the position
 		add_political_power = 50
		clr_country_flag = has_symbolic_figurehead
		clr_country_flag = pres_empty_reich
	}
}

# Abwehr Group
country_event = {
	id = twrheer.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.8" }
 	title = twrheer.8.t
 	desc = twrheer.8.d
 	picture = GFX_report_event_german_spying

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.8.a
  		ai_chance = {
 		factor = 1
 		}
 		add_popularity = {
    	ideology = conservative
    	popularity = 0.15
		}
		set_politics = {
		ruling_party = conservative
		}
		add_stability = -0.25
		drop_cosmetic_tag = yes
		set_cosmetic_tag = GER_WEIMAR
		hidden_effect = {
		news_event = {
		id = twrheernews.6 hours = 5
			}
		CZE = { clr_country_flag = CZE_SUCCESSFUL_REBELLION_INSECURITY }
		}
	}
}

# Manstein Personality Cult
country_event = {
	id = twrheer.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.9" }
 	title = twrheer.9.t
 	desc = twrheer.9.d
 	picture = GFX_report_event_manstein_question

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.9.a
 		add_ideas = fanatical_dictatorship
 		add_stability = 0.1
	}
}
country_event = {
	id = twrheer.10 #Blaming Everyone else
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.10" }
 	title = twrheer.10.t
 	desc = twrheer.10.d
 	picture = GFX_report_event_rommels_hitler_speech

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.10.a
 		add_stability = -0.1
 		add_political_power = 150
 		add_war_support = 0.1
	}
}
country_event = {
	id = twrheer.11 #Restoring Nazis
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.11" }
 	title = twrheer.11.t
 	desc = twrheer.11.d
 	picture = GFX_report_event_nazi_politics

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.11.a
 		retire_country_leader = yes
		create_country_leader = {
			name = "Hermann Esser"
			desc = "Hermann_Esser_DESC"
			picture = "Hermann_Esser.dds"
			expire = "1965.1.1"
			ideology = national_socialism
			traits = {
			}
		}
		remove_unit_leader = 903
		hidden_effect = {
		news_event = { id = twrheernews.7 hours = 5 } 		
		}
	}
}

# Polish Autonomy
country_event = {
	id = twrheer.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheer.12" }
 	title = twrheer.12.t
 	desc = twrheer.12.d
 	picture = GFX_report_event_police_investigation

	fire_only_once = yes
	is_triggered_only = yes

 	option = {
 		name = twrheer.12.a #Allow the formation of a free state
 		ai_chance = {
 		factor = 1
 		}
 		add_stability = 0.05
		transfer_state = 10
		set_autonomy = {
    	target = GGP
    	autonomy_state = autonomy_reichsprotectorate
		}
		GGP = {
			set_capital = { state = 88	 }
			set_cosmetic_tag = GGP_PROTECT
			clr_country_flag = german_language
			set_country_flag = polish_language
			set_politics = {
			ruling_party = fascist
			}
			create_country_leader = {
			name = "Wacław Krzeptowski"
			desc = "Waclaw_Krzeptowski_DESC"
			picture = "Waclaw_Krzeptowski.dds"
			expire = "1965.1.1"
			ideology = fascism
			traits = {
		
				}
			}
			add_state_core = 90
			add_state_core = 92
			add_state_core = 88
			add_state_core = 89
			add_state_core = 91
			add_state_core = 984
			add_state_core = 985
			news_event = twrheernews.10
		}
	}
 	option = {
 		name = twrheer.12.b #no
 		ai_chance = {
 		factor = 0
 		}
 		add_political_power = 100
	}
}
# Reichsprasident Lettow-Vorbeck
news_event = {
	id = twrheernews.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.1" }
	title = twrheernews.1.t
	desc = twrheernews.1.d
	picture = GFX_news_event_Paul_von_Lettow_Vorbeck

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.1.a
	}
}

# Reichsprasident Mackensen
news_event = {
	id = twrheernews.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.2" }
	title = twrheernews.2.t
	desc = twrheernews.2.d
	picture = GFX_news_event_Eberhard_von_Mackensen

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.2.a
	}
}

# Rommel Coup
news_event = {
	id = twrheernews.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.3" }
	title = twrheernews.3.t
	desc = twrheernews.3.d
	picture = GFX_news_event_rommel_coup

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.3.a
	}
}

# Reichsprasident Canaris
news_event = {
	id = twrheernews.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.4" }
	title = twrheernews.4.t
	desc = twrheernews.4.d
	picture = GFX_news_event_president_canaris

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.4.a
	}
}

# Reichsprasident Canaris
news_event = {
	id = twrheernews.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.5" }
	title = twrheernews.5.t
	desc = twrheernews.5.d
	picture = GFX_news_event_von_Reichenau

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.5.a
	}
}

# Hans OSter
news_event = {
	id = twrheernews.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.6" }
	title = twrheernews.6.t
	desc = twrheernews.6.d
	picture = GFX_news_event_hans_oster

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.6.a
	}
}

# Esser
news_event = {
	id = twrheernews.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.7" }
	title = twrheernews.7.t
	desc = twrheernews.7.d
	picture = GFX_news_event_hermann_esser

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.7.a
	}
}

# Reveal
news_event = {
	id = twrheernews.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.8" }
	title = twrheernews.8.t
	desc = twrheernews.8.d
	picture = GFX_news_event_grim_building

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.8.a
	}
}
# Pardon
news_event = {
	id = twrheernews.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.9" }
	title = twrheernews.9.t
	desc = twrheernews.9.d
	picture = GFX_news_event_tresckow_pardon

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.9.a
	}
}
# Polish Autonomy
news_event = {
	id = twrheernews.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event twrheernews.9" }
	title = twrheernews.10.t
	desc = twrheernews.10.d
	picture = GFX_news_event_goranvolk_state

	is_triggered_only = yes
	fire_only_once = no
	major = yes

	option = {
		name = twrheernews.10.a
	}
}